"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[989],{7124:(e,s,t)=>{t.r(s),t.d(s,{default:()=>l});var n=t(629);function i(e,s){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);s&&(n=n.filter((function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable}))),t.push.apply(t,n)}return t}function r(e){for(var s=1;s<arguments.length;s++){var t=null!=arguments[s]?arguments[s]:{};s%2?i(Object(t),!0).forEach((function(s){o(e,s,t[s])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))}))}return e}function o(e,s,t){return s in e?Object.defineProperty(e,s,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[s]=t,e}const a={props:{slug:{type:String,required:!1}},data:function(){return{text:"lorem",loading:!0,active:[]}},computed:r(r({},(0,n.Se)(["sessions","sessionsUsers"])),{},{selectedSession:function(){var e=this;if(this.$route.query.session)return this.sessions.find((function(s){return s.id===e.$route.query.session}))},sessionAttendees:function(){var e=this;if(this.$route.query.session)return this.sessionsUsers.filter((function(s){var t=s.attendances.find((function(s){return s.session_id===e.$route.query.session}));return void 0!==t&&null!==t.start&&null!==t.end}))},sessionAbsentees:function(){var e=this;if(this.$route.query.session)return this.sessionsUsers.filter((function(s){var t=s.attendances.find((function(s){return s.session_id===e.$route.query.session}));return void 0!==t&&null==t.start&&null==t.end}))},sessionDefaulters:function(){var e=this;if(this.$route.query.session)return this.sessionsUsers.filter((function(s){var t=s.attendances.find((function(s){return s.session_id===e.$route.query.session}));return void 0!==t&&null!==t.start&&null==t.end}))}}),mounted:function(){var e=this;this.$nextTick((function(){this.$store.dispatch("getSessions",e.slug).then((function(s){e.loading=!1}))}))},methods:{formatDate:function(e){return new Date(Date.parse(e)).toLocaleDateString("en-US",{weekday:"long",day:"2-digit",month:"long",year:"numeric",hour12:!0,hour:"2-digit",minute:"numeric"})},showSession:function(e){this.$route.query.users||this.$route.query.users!==e&&this.$router.push({name:"userReports",params:{type:e},query:{session:this.$route.query.session}})}}};const l=(0,t(1900).Z)(a,(function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",[e.loading?t("div",{staticClass:"d-flex flex-row justify-content-center align-items-center p-2 m-2"},[e._m(0)]):t("div",[t("h4",{staticClass:"fw-bold text-muted p-2"},[e._v("\n            Sessions\n        ")]),e._v(" "),t("div",{staticClass:"d-flex flex-row"},e._l(e.sessions,(function(s,n){return t("router-link",{key:s.id,staticClass:"text-decoration-none",attrs:{to:{name:"shiftDetails",query:{session:s.id}}}},[t("vs-button",{attrs:{danger:"",flat:"",active:!!e.$route.query.session&&e.$route.query.session.includes(s.id)}},[t("h6",{staticClass:"fw-bold m-0 pt-1"},[e._v("\n                        Session "+e._s(n+1)+"\n                    ")])])],1)})),1),e._v(" "),e.selectedSession?t("div",{staticClass:"p-2"},[t("div",[t("div",{staticClass:"d-flex flex-column flex-md-row align-items-center"},[e._m(1),e._v(" "),t("h6",{staticClass:"m-0"},[e._v("\n                        "+e._s(e.formatDate(e.selectedSession.start))+"\n                    ")])]),e._v(" "),t("div",{staticClass:"d-flex flex-column flex-md-row align-items-center"},[e._m(2),e._v(" "),t("h6",{staticClass:"m-0"},[e._v("\n                        "+e._s(e.formatDate(e.selectedSession.end))+"\n                    ")])]),e._v(" "),t("div",{staticClass:"p-2 d-flex flex-row align-items-center"},[t("div",{staticClass:"text-center m-2"},[t("i",{staticClass:"fa-duotone fa-users fa-2x"}),e._v(" "),t("vs-button",{attrs:{warn:"",circle:"",icon:"",disabled:0===e.sessionAttendees.length},on:{click:function(s){return e.showSession("attendees")}}},[t("span",{staticClass:"display-6 pt-1"},[e._v("\n                                "+e._s(e.sessionAttendees.length<10?"0"+e.sessionAttendees.length:e.sessionAttendees.length)+"\n                            ")])]),e._v(" "),t("h6",{staticClass:"m-0 fw-bold"},[e._v("\n                               Attendees\n                        ")])],1),e._v(" "),t("div",{staticClass:"text-center m-2"},[t("i",{staticClass:"fa-duotone fa-ban fa-2x"}),e._v(" "),t("vs-button",{attrs:{danger:"",circle:"",icon:"",flat:"",disabled:0===e.sessionDefaulters.length},on:{click:function(s){return e.showSession("defaulters")}}},[t("span",{staticClass:"display-6 pt-1"},[e._v("\n                                "+e._s(e.sessionDefaulters.length<10?"0"+e.sessionDefaulters.length:e.sessionDefaulters.length)+"\n                            ")])]),e._v(" "),t("h6",{staticClass:"m-0 fw-bold"},[e._v("\n                            Defaulters\n                        ")])],1),e._v(" "),t("div",{staticClass:"text-center m-2"},[t("i",{staticClass:"fa-duotone fa-user-large-slash fa-2x"}),e._v(" "),t("vs-button",{attrs:{dark:"",circle:"",icon:"",flat:"",disabled:0===e.sessionAbsentees.length},on:{click:function(s){return e.showSession("absentees")}}},[t("span",{staticClass:"display-6 pt-1"},[e._v("\n                                "+e._s(e.sessionAbsentees.length<10?"0"+e.sessionAbsentees.length:e.sessionAbsentees.length)+"\n                            ")])]),e._v(" "),t("h6",{staticClass:"m-0 fw-bold"},[e._v("\n                            Absentees\n                        ")])],1)]),e._v(" "),t("h6",{staticClass:"p-3"},[e._v("\n                    Click to show more information\n                ")]),e._v(" "),t("router-view",{key:e.$route.path,attrs:{attendees:e.sessionAttendees,absentees:e.sessionAbsentees,defaulters:e.sessionDefaulters}})],1)]):e._e()])])}),[function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{staticClass:"spinner-border spinner-border-sm",staticStyle:{height:"70px",width:"70px"},attrs:{role:"status"}},[t("span",{staticClass:"visually-hidden"},[e._v("Loading...")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("h6",{staticClass:"m-0 fw-bold d-flex flex-row align-items-center"},[t("i",{staticClass:"fa-duotone fa-hourglass-start"}),e._v(" "),t("span",{staticClass:"m-2"},[e._v("\n                            Started:\n                        ")])])},function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("h6",{staticClass:"m-0 fw-bold d-flex flex-row align-items-center"},[t("i",{staticClass:"fa-duotone fa-hourglass-end"}),e._v(" "),t("span",{staticClass:"m-2"},[e._v("\n                           Ended:\n                        ")])])}],!1,null,null,null).exports},1900:(e,s,t)=>{function n(e,s,t,n,i,r,o,a){var l,u="function"==typeof e?e.options:e;if(s&&(u.render=s,u.staticRenderFns=t,u._compiled=!0),n&&(u.functional=!0),r&&(u._scopeId="data-v-"+r),o?(l=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=l):i&&(l=a?function(){i.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:i),l)if(u.functional){u._injectStyles=l;var c=u.render;u.render=function(e,s){return l.call(s),c(e,s)}}else{var d=u.beforeCreate;u.beforeCreate=d?[].concat(d,l):[l]}return{exports:e,options:u}}t.d(s,{Z:()=>n})}}]);
//# sourceMappingURL=Shift Details.js.map