{"version":3,"file":"js/Clock User.js","mappings":"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","sources":["webpack:///./resources/js/components/users/User.vue?cdfb","webpack:///resources/js/components/users/User.vue","webpack:///./resources/js/components/users/User.vue?afc9","webpack:///./resources/js/components/users/User.vue","webpack:///./node_modules/vue-loader/lib/runtime/componentNormalizer.js"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.loading)?_c('div',{staticClass:\"d-flex flex-row align-items-center justify-content-center p-4\"},[_vm._m(0)]):(_vm.error)?_c('div',{staticClass:\"d-flex flex-row align-items-center justify-content-center p-4\"},[_c('h6',{staticClass:\"m-0 fw-bold\"},[_vm._v(\"\\n            Something went wrong\\n        \")])]):_c('div',{staticClass:\"d-flex flex-column align-items-center\"},[_c('b-avatar',{attrs:{\"size\":\"15rem\",\"src\":(\"../../../../storage/profile/\" + (_vm.user.profile))}}),_vm._v(\" \"),_c('small',{staticClass:\"mt-2\"},[_vm._v(\"\\n            \"+_vm._s(_vm.allShifts.find(function (shift) { return shift.id === _vm.user.shift_id; }).name)+\"\\n        \")]),_vm._v(\" \"),_c('hr',{staticClass:\"w-50 mx-auto\"}),_vm._v(\" \"),_c('h1',[_vm._v(\"\\n            \"+_vm._s(_vm.user.name)+\"\\n        \")]),_vm._v(\" \"),_c('h6',[_vm._v(\"\\n            \"+_vm._s(_vm.user.from)+\" â€¢ \"+_vm._s(_vm.user.phone_number)+\"\\n        \")]),_vm._v(\" \"),_c('div',{staticClass:\"container d-flex flex-row align-items-center justify-content-between\"},[(_vm.isClockedIn === false)?_c('vs-button',{attrs:{\"success\":\"\",\"flat\":\"\",\"disabled\":_vm.ongoingShift === false,\"loading\":_vm.clock.loading},on:{\"click\":function($event){return _vm.clockIn()}}},[_c('h6',{staticClass:\"m-0 fw-bold d-flex flex-row align-items-center\"},[_c('i',{staticClass:\"fa-duotone fa-timer fa-2x\"}),_vm._v(\" \"),_c('span',{staticClass:\"m-2\"},[_vm._v(\"\\n                        Clock In\\n                    \")])])]):_c('vs-button',{attrs:{\"success\":\"\",\"flat\":\"\",\"loading\":_vm.clock.loading},on:{\"click\":function($event){return _vm.clockOut()}}},[_c('h6',{staticClass:\"m-0 fw-bold d-flex flex-row align-items-center\"},[_c('i',{staticClass:\"fa-duotone fa-timer fa-2x\"}),_vm._v(\" \"),_c('span',{staticClass:\"m-2\"},[_vm._v(\"\\n                        Clock Out\\n                    \")])])])],1)],1)])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spinner-border spinner-border-sm\",staticStyle:{\"height\":\"100px\",\"width\":\"100px\"},attrs:{\"role\":\"status\"}},[_c('span',{staticClass:\"visually-hidden\"},[_vm._v(\"Loading...\")])])}]\n\nexport { render, staticRenderFns }","<template>\n    <div>\n        <div class=\"d-flex flex-row align-items-center justify-content-center p-4\" v-if=\"loading\">\n            <div class=\"spinner-border spinner-border-sm\" role=\"status\" style=\"height: 100px; width: 100px;\">\n                <span class=\"visually-hidden\">Loading...</span>\n            </div>\n        </div>\n        <div class=\"d-flex flex-row align-items-center justify-content-center p-4\" v-else-if=\"error\">\n            <h6 class=\"m-0 fw-bold\">\n                Something went wrong\n            </h6>\n        </div>\n        <div\n            class=\"d-flex flex-column align-items-center\"\n            v-else\n        >\n            <b-avatar\n                size=\"15rem\"\n                :src=\"`../../../../storage/profile/${user.profile}`\"\n            ></b-avatar>\n            <small class=\"mt-2\">\n                {{ allShifts.find(shift => shift.id === user.shift_id).name }}\n            </small>\n            <hr class=\"w-50 mx-auto\">\n            <h1>\n                {{ user.name }}\n            </h1>\n            <h6>\n                {{ user.from }} &#8226; {{ user.phone_number}}\n            </h6>\n            <div class=\"container d-flex flex-row align-items-center justify-content-between\">\n                <vs-button success flat v-if=\"isClockedIn === false\" @click=\"clockIn()\" :disabled=\"ongoingShift === false\" :loading=\"clock.loading\">\n                    <h6 class=\"m-0 fw-bold d-flex flex-row align-items-center\">\n                        <i class=\"fa-duotone fa-timer fa-2x\"></i>\n                        <span class=\"m-2\">\n                            Clock In\n                        </span>\n                    </h6>\n                </vs-button>\n                <vs-button success flat v-else @click=\"clockOut()\" :loading=\"clock.loading\">\n                    <h6 class=\"m-0 fw-bold d-flex flex-row align-items-center\">\n                        <i class=\"fa-duotone fa-timer fa-2x\"></i>\n                        <span class=\"m-2\">\n                            Clock Out\n                        </span>\n                    </h6>\n                </vs-button>\n            </div>\n        </div>\n    </div>\n</template>\n<script>\nimport {mapGetters} from \"vuex\";\n\nexport default {\n    props:{\n        slug:{\n            type: Object,\n            required: true\n        }\n    },\n    data(){\n        return{\n            loading: true,\n            error: false,\n            user:{},\n            clock: {\n                loading:false\n            }\n        }\n    },\n    computed:{\n        ...mapGetters(['allUsers', 'allShifts', 'ongoingShift']),\n        isClockedIn(){\n            if(this.currentSession.start === null){\n                return false\n            }else{\n                return true;\n            }\n        },\n        currentSession(){\n            return this.user.attendances.find(attendance => attendance.session_id === this.ongoingShift.ongoing_session);\n        }\n    },\n    methods: {\n        clockIn() {\n            this.clock.loading = true\n\n            this.$store.dispatch('checkIn', this.user.id).then(response => {\n                this.$router.push({ name: 'clock' });\n                this.openNotification(`<h5 class='m-0'>User</h5>`, `<h6 class='m-0'>Clocked In successfully</h6>`);\n            })\n        },\n        clockOut(){\n            this.clock.loading = true\n\n            this.$store.dispatch('checkOut', this.user.id).then(response => {\n                this.$router.push({ name: 'clock' });\n                this.openNotification(`<h5 class='m-0'>User</h5>`, `<h6 class='m-0'>Clocked out successfully</h6>`);\n            })\n        },\n        openNotification(title, text) {\n            const notification = this.$vs.notification({\n                title,\n                text\n            });\n        }\n    },\n    async mounted() {\n        try {\n            this.user = await this.allUsers.find(item => item.id === this.slug);\n            this.loading = false;\n        }\n        catch(error){\n            this.error = true;\n        }\n    }\n}\n</script>\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-5[0].rules[0].use[0]!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./User.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./User.vue?vue&type=template&id=b2221cbe&\"\nimport script from \"./User.vue?vue&type=script&lang=js&\"\nexport * from \"./User.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () {\n        injectStyles.call(\n          this,\n          (options.functional ? this.parent : this).$root.$options.shadowRoot\n        )\n      }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n"],"names":["props","slug","type","required","data","loading","error","user","clock","computed","mapGetters","isClockedIn","currentSession","methods","clockIn","name","clockOut","openNotification","title","text","mounted","_vm","this","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","_s","allShifts","find","shift","id","shift_id","from","phone_number","ongoingShift","on","$event","staticStyle","normalizeComponent","scriptExports","render","staticRenderFns","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","hook","options","_compiled","functional","_scopeId","context","$vnode","ssrContext","parent","__VUE_SSR_CONTEXT__","call","_registeredComponents","add","_ssrRegister","$root","$options","shadowRoot","_injectStyles","originalRender","h","existing","beforeCreate","concat","exports"],"sourceRoot":""}